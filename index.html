<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apisaurus API Documentation</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');

        :root {
            --primary: #7B2CBF;
            --accent: #9D4EDD;
            --light: #E0AAFF;
            --bg-gradient: linear-gradient(135deg, #240046 0%, #3C096C 50%, #7B2CBF 100%);
        }

        * { margin:0; padding:0; box-sizing:border-box; font-family: 'Poppins', sans-serif; }

        body { background: var(--bg-gradient); color: white; min-height: 100vh; background-attachment: fixed; }

        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }

        #landing { height: 100vh; display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center; animation: fadeIn 1.5s; }
        #landing h1 { font-size:4rem; background: linear-gradient(90deg, #E0AAFF, white); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
        .btn-start { padding:15px 40px; font-size:1.4rem; background:var(--accent); border:none; border-radius:50px; color:white; cursor:pointer; box-shadow:0 10px 30px rgba(157,78,221,0.4); transition:all .3s; }
        .btn-start:hover { transform:translateY(-5px); box-shadow:0 15px 40px rgba(157,78,221,0.6); }

        #dashboard { display:none; min-height:100vh; padding-top:50px; }
        .header { text-align:center; margin-bottom:60px; }
        .api-grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(350px, 1fr)); gap:30px; }
        .api-card { background:rgba(255,255,255,0.08); backdrop-filter:blur(10px); border-radius:20px; padding:30px; border:1px solid rgba(157,78,221,0.3); transition:all .3s; }
        .api-card:hover { transform:translateY(-10px); box-shadow:0 20px 40px rgba(123,44,191,0.3); }
        .api-card h3 { font-size:1.8rem; color:var(--light); margin-bottom:15px; }
        .btn { padding:10px 20px; background:var(--accent); color:white; border:none; border-radius:10px; cursor:pointer; transition:all .3s; }
        .btn:hover { background:#a166f0; transform:scale(1.05); }
        .form-group { margin:15px 0; }
        .form-group label { display:block; margin-bottom:8px; }
        .form-group input { width:100%; padding:12px; border-radius:10px; border:none; background:rgba(255,255,255,0.1); color:white; }
        .response { margin-top:20px; padding:15px; background:rgba(0,0,0,0.3); border-radius:12px; max-height:300px; overflow-y:auto; font-family:monospace; white-space:pre-wrap; }
        .response img { max-width:100%; border-radius:10px; margin-top:10px; }

        .stars { position:fixed; inset:0; pointer-events:none; z-index:-1; }
        .star { position:absolute; background:white; border-radius:50%; opacity:0.8; animation:twinkle 5s infinite alternate; }
        @keyframes twinkle { from {opacity:0.3} to {opacity:0.9} }
        @keyframes fadeIn { from {opacity:0; transform:translateY(30px)} to {opacity:1; transform:translateY(0)} }
    </style>
</head>
<body>

<div class="stars" id="stars"></div>

<section id="landing">
    <div class="container">
        <p class="author">Author: Saurus</p>
        <p class="total-api">Total API: 5</p>
        <h1>Apisaurus</h1>
        <button class="btn-start" onclick="document.getElementById('landing').style.display='none'; document.getElementById('dashboard').style.display='block';">Let's Get Started</button>
    </div>
</section>

<section id="dashboard">
    <div class="container">
        <div class="header">
            <h2>Dashboard API</h2>
            <p>Semua request melalui proxy aman (API key tersembunyi)</p>
        </div>

        <div class="api-grid">

            <!-- Cek Waktu -->
            <div class="api-card">
                <h3>üïê Cek Waktu</h3>
                <button class="btn" onclick="tryApi('https://apisaurus.vercel.app/api/cekwaktu')">Coba API</button>
                <div id="res-cekwaktu" class="response"></div>
            </div>

            <!-- Cek Nama Pasaran -->
            <div class="api-card">
                <h3>üî• Cek Nama Pasaran</h3>
                <div class="form-group"><label>Nama</label><input id="nama-pasaran" placeholder="Masukkan nama"></div>
                <button class="btn" onclick="tryApi(`https://apisaurus.vercel.app/api/random/ceknamapasaran?nama=${encodeURIComponent(document.getElementById('nama-pasaran').value || 'test')}`)">Coba API</button>
                <div id="res-pasaran" class="response"></div>
            </div>

            <!-- IQC -->
            <div class="api-card">
                <h3>üñºÔ∏è IQC</h3>
                <div class="form-group"><label>Waktu (HH:MM)</label><input id="time-iqc" placeholder="13:20"></div>
                <div class="form-group"><label>Baterai</label><input id="bat-iqc" placeholder="85"></div>
                <div class="form-group"><label>Pesan</label><input id="msg-iqc" placeholder="Halo!"></div>
                <button class="btn" onclick="tryImageApi(`https://apisaurus.vercel.app/api/iqc?time=${document.getElementById('time-iqc').value || '13:20'}&battery=${document.getElementById('bat-iqc').value || '85'}&message=${encodeURIComponent(document.getElementById('msg-iqc').value || 'Test')}`)">Generate</button>
                <div id="res-iqc" class="response"></div>
            </div>

            <!-- Grup WA -->
            <div class="api-card">
                <h3>üí¨ Cari Grup WA</h3>
                <div class="form-group"><label>Query</label><input id="query-grup" placeholder="jb, ml, ff"></div>
                <button class="btn" onclick="tryApi(`https://apisaurus.vercel.app/api/grupwa?query=${encodeURIComponent(document.getElementById('query-grup').value || 'test')}`)">Cari</button>
                <div id="res-grup" class="response"></div>
            </div>

            <!-- Anime Halal -->
            <div class="api-card">
                <h3>üê± Anime Halal</h3>
                <button class="btn" onclick="tryImageApi('https://apisaurus.vercel.app/api/animehalal')">Generate</button>
                <div id="res-anime" class="response"></div>
            </div>

        </div>
    </div>
</section>

<script>
    const PROXY_BASE = '/api/proxy?url='; // Ganti kalau deploy di tempat lain

    function createStars() {
        const stars = document.getElementById('stars');
        for(let i = 0; i < 150; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.width = star.style.height = Math.random() * 3 + 1 + 'px';
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            star.style.animationDelay = Math.random() * 5 + 's';
            stars.appendChild(star);
        }
    }
    createStars();

    async function tryApi(targetUrl) {
        const resDiv = event.target.closest('.api-card').querySelector('.response');
        resDiv.innerHTML = 'Loading...';

        try {
            const proxyUrl = PROXY_BASE + encodeURIComponent(targetUrl);
            const res = await fetch(proxyUrl);
            const data = await res.json();
            resDiv.innerHTML = '<pre>' + JSON.stringify(data, null, 2) + '</pre>';
        } catch (err) {
            resDiv.innerHTML = 'Error: ' + err.message;
        }
    }

    function tryImageApi(targetUrl) {
        const resDiv = event.target.closest('.api-card').querySelector('.response');
        resDiv.innerHTML = 'Generating...';
        const proxyUrl = PROXY_BASE + encodeURIComponent(targetUrl);
        resDiv.innerHTML = `<img src="${proxyUrl}" alt="Generated Image" onerror="this.outerHTML='<p>Gagal memuat gambar</p>'">`;
    }
</script>
</body>
</html>
