<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apisaurus API Documentation</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');

        :root {
            --primary: #7B2CBF;
            --secondary: #5A189A;
            --accent: #9D4EDD;
            --dark: #240046;
            --light: #E0AAFF;
            --text: #ffffff;
            --bg-gradient: linear-gradient(135deg, #240046 0%, #3C096C 50%, #7B2CBF 100%);
        }

        body { background: var(--bg-gradient); color: var(--text); min-height: 100vh; background-attachment: fixed; font-family: 'Poppins', sans-serif; }
        * { margin:0; padding:0; box-sizing:border-box; }

        .container { max-width:1200px; margin:0 auto; padding:20px; }

        /* Landing */
        #landing { height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center; }
        #landing h1 { font-size:4rem; background:linear-gradient(90deg, #E0AAFF, #fff); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
        .btn-start { padding:15px 40px; font-size:1.4rem; background:var(--accent); color:white; border:none; border-radius:50px; cursor:pointer; box-shadow:0 10px 30px rgba(157,78,221,0.4); transition:all .3s; }
        .btn-start:hover { transform:translateY(-5px); box-shadow:0 15px 40px rgba(157,78,221,0.6); background:#a166f0; }

        /* Dashboard */
        #dashboard { display:none; min-height:100vh; padding-top:50px; }
        .header { text-align:center; margin-bottom:60px; }
        .header h2 { font-size:3rem; }
        .api-grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(350px, 1fr)); gap:30px; }
        .api-card { background:rgba(255,255,255,0.08); backdrop-filter:blur(10px); border-radius:20px; padding:30px; border:1px solid rgba(157,78,221,0.3); transition:all .3s; }
        .api-card:hover { transform:translateY(-10px); box-shadow:0 20px 40px rgba(123,44,191,0.3); }
        .api-card h3 { font-size:1.8rem; margin-bottom:15px; color:var(--light); }
        .api-url { background:rgba(0,0,0,0.3); padding:15px; border-radius:12px; font-family:monospace; word-break:break-all; color:#E0AAFF; }
        .btn { padding:10px 20px; background:var(--accent); color:white; border:none; border-radius:10px; cursor:pointer; margin:10px 10px 0 0; transition:all .3s; }
        .btn:hover { background:#a166f0; transform:scale(1.05); }
        .form-group { margin:15px 0; }
        .form-group label { display:block; margin-bottom:8px; }
        .form-group input { width:100%; padding:12px; border-radius:10px; border:none; background:rgba(255,255,255,0.1); color:white; }
        .response { margin-top:20px; padding:15px; background:rgba(0,0,0,0.3); border-radius:12px; max-height:400px; overflow-y:auto; font-family:monospace; white-space:pre-wrap; }
        .response img { max-width:100%; border-radius:10px; margin-top:10px; }

        .stars { position:fixed; inset:0; pointer-events:none; z-index:-1; }
        .star { position:absolute; background:white; border-radius:50%; opacity:0.8; animation:twinkle 5s infinite alternate; }
        @keyframes twinkle { from {opacity:0.3} to {opacity:0.9} }
    </style>
</head>
<body>

<div class="stars" id="stars"></div>

<!-- Landing -->
<section id="landing">
    <div class="container">
        <p class="author">Author: Saurus</p>
        <p class="total-api">Total API: 5 (Cek Waktu ‚Ä¢ Cek Nama Pasaran ‚Ä¢ IQC ‚Ä¢ Cari Grup WA ‚Ä¢ Anime Halal)</p>
        <h1>Apisaurus</h1>
        <button class="btn-start" onclick="document.getElementById('landing').style.display='none'; document.getElementById('dashboard').style.display='block';">Let's Get Started</button>
    </div>
</section>

<!-- Dashboard -->
<section id="dashboard">
    <div class="container">
        <div class="header">
            <h2>Dashboard API</h2>
            <p>Pilih dan coba API (semua pakai proxy karena CORS)</p>
        </div>

        <div class="api-grid">

            <!-- Cek Waktu -->
            <div class="api-card">
                <h3>üïê Cek Waktu</h3>
                <div class="api-url">https://apisaurus.vercel.app/api/cekwaktu</div>
                <button class="btn" onclick="tryApi('cekwaktu')">Coba API</button>
                <div id="response-cekwaktu" class="response"></div>
            </div>

            <!-- Cek Nama Pasaran -->
            <div class="api-card">
                <h3>üî• Cek Nama Pasaran</h3>
                <div class="form-group">
                    <label>API Key</label>
                    <input type="text" id="apikey-pasaran" value="saurusdev">
                </div>
                <div class="form-group">
                    <label>Nama</label>
                    <input type="text" id="nama-pasaran" placeholder="Contoh: saurus">
                </div>
                <button class="btn" onclick="tryApi('pasaran')">Coba API</button>
                <div id="response-pasaran" class="response"></div>
            </div>

            <!-- IQC -->
            <div class="api-card">
                <h3>üñºÔ∏è IQC (Image Quote Card)</h3>
                <div class="form-group"><label>API Key</label><input type="text" id="apikey-iqc" value="saurusdev"></div>
                <div class="form-group"><label>Waktu (HH:MM)</label><input type="text" id="time-iqc" placeholder="13:20"></div>
                <div class="form-group"><label>Baterai (%)</label><input type="text" id="battery-iqc" placeholder="85"></div>
                <div class="form-group"><label>Pesan</label><input type="text" id="message-iqc" placeholder="Halo!"></div>
                <button class="btn" onclick="tryApi('iqc')">Coba API</button>
                <div id="response-iqc" class="response"></div>
            </div>

            <!-- Cari Grup WA -->
            <div class="api-card">
                <h3>üí¨ Cari Grup WhatsApp</h3>
                <div class="form-group"><label>API Key</label><input type="text" id="apikey-grupwa" value="saurusdev"></div>
                <div class="form-group"><label>Query</label><input type="text" id="query-grupwa" placeholder="Contoh: jb, ml"></div>
                <button class="btn" onclick="tryApi('grupwa')">Coba API</button>
                <div id="response-grupwa" class="response"></div>
            </div>

            <!-- Anime Halal (baru) -->
            <div class="api-card">
                <h3>üê± Anime Halal</h3>
                <p>Generate gambar anime random (hasil PNG langsung)</p>
                <div class="api-url">https://apisaurus.vercel.app/api/animehalal</div>
                <div class="form-group"><label>API Key (opsional?)</label><input type="text" id="apikey-animehalal" value="saurusdev" placeholder="Coba kosongkan jika tidak wajib"></div>
                <button class="btn" onclick="tryApi('animehalal')">Coba API</button>
                <div id="response-animehalal" class="response"></div>
            </div>

        </div>
    </div>
</section>

<script>
    const proxy = 'https://corsproxy.io/?';

    function getProxyUrl(url) {
        return proxy + encodeURIComponent(url);
    }

    async function tryApi(type) {
        let responseDiv, url, method = 'GET';

        if (type === 'cekwaktu') {
            responseDiv = document.getElementById('response-cekwaktu');
            url = 'https://apisaurus.vercel.app/api/cekwaktu';
            responseDiv.innerHTML = 'Loading...';
            fetchJson(getProxyUrl(url), responseDiv);
        }

        else if (type === 'pasaran') {
            responseDiv = document.getElementById('response-pasaran');
            const apikey = document.getElementById('apikey-pasaran').value.trim();
            const nama = document.getElementById('nama-pasaran').value.trim();
            if (!nama) return responseDiv.innerHTML = '‚ö†Ô∏è Isi nama dulu!';
            url = `https://apisaurus.vercel.app/api/random/ceknamapasaran?apikey=${apikey}&nama=${encodeURIComponent(nama)}`;
            responseDiv.innerHTML = 'Loading...';
            fetchJson(getProxyUrl(url), responseDiv);
        }

        else if (type === 'grupwa') {
            responseDiv = document.getElementById('response-grupwa');
            const apikey = document.getElementById('apikey-grupwa').value.trim();
            const query = document.getElementById('query-grupwa').value.trim();
            if (!query) return responseDiv.innerHTML = '‚ö†Ô∏è Isi query dulu!';
            url = `https://apisaurus.vercel.app/api/grupwa?apikey=${apikey}&query=${encodeURIComponent(query)}`;
            responseDiv.innerHTML = 'Loading...';
            fetchJson(getProxyUrl(url), responseDiv);
        }

        else if (type === 'iqc') {
            responseDiv = document.getElementById('response-iqc');
            const apikey = document.getElementById('apikey-iqc').value.trim();
            const time = document.getElementById('time-iqc').value.trim();
            const battery = document.getElementById('battery-iqc').value.trim();
            const message = document.getElementById('message-iqc').value.trim();
            if (!time || !battery || !message) return responseDiv.innerHTML = '‚ö†Ô∏è Lengkapi semua field!';
            url = `https://apisaurus.vercel.app/api/iqc?apikey=${apikey}&time=${time}&battery=${battery}&message=${encodeURIComponent(message)}`;
            responseDiv.innerHTML = `<img src="${url}" alt="IQC Image" onerror="this.outerHTML='<p>‚ùå Gagal load gambar (cek koneksi/proxy)</p>'">`;
        }

        else if (type === 'animehalal') {
            responseDiv = document.getElementById('response-animehalal');
            const apikey = document.getElementById('apikey-animehalal').value.trim();
            let param = '';
            if (apikey) param = `?apikey=${apikey}`;
            url = `https://apisaurus.vercel.app/api/animehalal${param}`;
            responseDiv.innerHTML = `<img src="${url}" alt="Anime Halal" onerror="this.outerHTML='<p>‚ùå Gagal load gambar (coba tanpa apikey atau periksa proxy)</p>'">`;
        }
    }

    async function fetchJson(url, div) {
        try {
            const res = await fetch(url);
            if (!res.ok) throw new Error(`HTTP ${res.status}`);
            const data = await res.json();
            div.innerHTML = '<pre>' + JSON.stringify(data, null, 2) + '</pre>';
        } catch (err) {
            div.innerHTML = `‚ùå Error: ${err.message}\n(Coba ganti proxy atau cek apakah API online)`;
        }
    }

    // Bintang background
    const stars = document.getElementById('stars');
    for(let i=0; i<120; i++){
        const s = document.createElement('div');
        s.className = 'star';
        s.style.width = s.style.height = Math.random()*3+1+'px';
        s.style.left = Math.random()*100+'%';
        s.style.top = Math.random()*100+'%';
        s.style.animationDelay = Math.random()*5+'s';
        stars.appendChild(s);
    }
</script>
</body>
</html>
